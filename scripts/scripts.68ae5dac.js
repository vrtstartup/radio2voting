"use strict";angular.module("hearkenApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngMessages","ngMaterial","times.tabletop"]).config(["$routeProvider",function(a){a.when("/main",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/results",{templateUrl:"views/results.html",controller:"ResultsCtrl",controllerAs:"results"}).otherwise({redirectTo:"/results"})}]).config(["TabletopProvider",function(a){a.setTabletopOptions({key:"https://docs.google.com/spreadsheets/d/1Je_PAYGueRsHhJGNDdGQexggBJ2vsK6RmRnwQAlK3ZA/pubhtml",simpleSheet:!1})}]),angular.module("hearkenApp").controller("MainCtrl",["$scope","$http",function(a,b){a.send=!1,a.resetForm=function(){a.form={name:"",email:"",questions:""}};var c=function(c){var d=new Date;""!==c.name&&""!==c.email&&""!==c.question&&(console.log(c),b({method:"GET",url:"https://zapier.com/hooks/catch/61620/uw2rt6/",params:{name:c.name,email:c.email,question:c.question,date:d}}).then(function(){a.send=!0},function(a){console.log(a)}))};a.sendForm=function(a){c(a)},a.resetForm()}]),angular.module("hearkenApp").controller("ResultsCtrl",["$scope","$http","Tabletop",function(a,b,c){a.send=!1,c.then(function(b){a.questions=b[0].Questions.elements});var d=function(c,d){new Date;""!==c.name&&""!==c.email&&""!==c.question&&b({method:"GET",url:"https://zapier.com/hooks/catch/61620/uwtcba/",params:{question:c,value:d}}).then(function(){a.send=!0},function(a){console.log(a)})};a.selectQuestion=function(a,b){b++,d(a,b)}}]),angular.module("hearkenApp").run(["$templateCache",function(a){a.put("views/main.html",'<md-content flex> <div layout="row" class="questions-form" layout-align="center center"> <form name="questionsForm"> <md-input-container class="md-block"> <label>Stel hier je vraag</label> <textarea name="question" ng-model="form.question" required></textarea> <div ng-messages="questionsForm.question.$error"> <div ng-message="required">Dit is verplicht.</div> </div> </md-input-container> <md-input-container class="md-block"> <label>Je naam</label> <input required name="name" ng-model="form.name"> <div ng-messages="questionsForm.name.$error"> <div ng-message="required">This is required.</div> </div> </md-input-container> <md-input-container class="md-block"> <label>Je emailadres</label> <input required type="email" name="email" ng-model="form.email" ng-pattern="/^.+@.+\\..+$/"> <div ng-messages="questionsForm.email.$error" role="alert"> <div ng-message-exp="[\'required\', \'pattern\']"> Je emailadres lijkt niet helemaal correct te zijn. </div> </div> </md-input-container> <md-button ng-click="sendForm(form)" ng-disabled="!questionsForm.$valid">Verstuur je vraag</md-button> </form> </div> <div ng-class="{\'questions-send--visible\': send}" class="questions-send"> <div layout="row" layout-align="center center"> Mercikes </div> </div> <md-switch ng-model="send" aria-label="Switch 1"> Switch {{send}} </md-switch> </md-content>'),a.put("views/results.html",'<md-content flex> <div layout="column" class="selection-form" layout-align="center start"> <div class="selection-description"> Welke vragen moet we met de redactie onderzoeken? </div> <div ng-repeat="(key, q) in questions" ng-click="selectQuestion(q.vraag, q.stemmen)"> {{q.vraag}} </div> </div> <div ng-class="{\'questions-send--visible\': send}" class="questions-send"> <div layout="row" layout-align="center center"> Mercikes </div> </div> <md-switch ng-model="send" aria-label="Switch 1"> Switch {{send}} </md-switch> </md-content>')}]);